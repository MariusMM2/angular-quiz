<form [formGroup]="quizForm" (ngSubmit)="onSubmit()">

  <mat-card>

    <mat-card-header>

    </mat-card-header>

    <mat-card-content>

      <div>

        <mat-form-field appearance="outline">
          <mat-label>Quiz Title</mat-label>
          <input matInput formControlName="title">
        </mat-form-field>
      </div>

      <div>

        <mat-form-field appearance="outline">
          <mat-label>Author</mat-label>
          <mat-select formControlName="user">
            <mat-option *ngFor="let user of users" value="{{user}}">{{user.username}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <mat-divider></mat-divider>

      <!--QUESTIONS SECTION-->
      <div formArrayName="questions">
        <div *ngFor="let questionControl of quizForm.controls.questions.controls; let i=index">
          <div [formGroupName]="i">

            <mat-form-field appearance="outline" style="margin-top: 10px">
            <mat-label>Question</mat-label>
            <input matInput formControlName="title">
            </mat-form-field>
            <!--OPTIONS SECTION-->
            <div formArrayName="options">
              <div *ngFor="let optionControl of questionControl.controls.options.controls; let j=index">
                <div [formGroupName]="j">

                  <mat-form-field>
                  <input matInput placeholder="Answer" formControlName="answer">
                  </mat-form-field>
                  <mat-checkbox formControlName="correct">Correct
                  </mat-checkbox>
                </div>
              </div>
            </div>
            <!--END OPTIONS SECTION-->

            <button mat-raised-button color="primary" style="margin: 5px" type="button" (click)="newOption(i)">Add Option</button>

          </div>
        </div>
      </div>
      <!--END QUESTIONS SECTION-->

      <button mat-raised-button color="primary" style="margin: 5px" type="button" (click)="newQuestion(i)">Add Question</button>

      <!--<div>-->

        <!--<mat-form-field appearance="outline">-->
          <!--<mat-label>Question</mat-label>-->
          <!--<input matInput formControlName="q1Name">-->
        <!--</mat-form-field>-->
      <!--</div>-->

      <!--<div style="margin-left: 20px">-->

        <!--<div>-->

          <!--<mat-form-field>-->
            <!--<input matInput placeholder="Answer" formControlName="q1A1Title">-->
          <!--</mat-form-field>-->
          <!--<mat-checkbox formControlName="q1A1IsCorrect">Correct-->
          <!--</mat-checkbox>-->
        <!--</div>-->

        <!--<div>-->

          <!--<mat-form-field>-->
            <!--<input matInput placeholder="Answer" formControlName="q1A2Title">-->
          <!--</mat-form-field>-->
          <!--<mat-checkbox formControlName="q1A2IsCorrect">Correct-->
          <!--</mat-checkbox>-->
        <!--</div>-->

        <!--<div>-->

          <!--<mat-form-field>-->
            <!--<input matInput placeholder="Answer" formControlName="q1A3Title">-->
          <!--</mat-form-field>-->
          <!--<mat-checkbox formControlName="q1A3IsCorrect">Correct-->
          <!--</mat-checkbox>-->
        <!--</div>-->

      <!--</div>-->

      <!--<div>-->

        <!--<mat-form-field appearance="outline">-->
          <!--<mat-label>Question</mat-label>-->
          <!--<input matInput formControlName="q2Name">-->
        <!--</mat-form-field>-->
      <!--</div>-->

      <!--<div style="margin-left: 20px">-->

        <!--<div>-->

          <!--<mat-form-field>-->
            <!--<input matInput placeholder="Answer" formControlName="q2A1Title">-->
          <!--</mat-form-field>-->
          <!--<mat-checkbox formControlName="q2A1IsCorrect">Correct-->
          <!--</mat-checkbox>-->
        <!--</div>-->

        <!--<div>-->

          <!--<mat-form-field>-->
            <!--<input matInput placeholder="Answer" formControlName="q2A2Title">-->
          <!--</mat-form-field>-->
          <!--<mat-checkbox formControlName="q2A2IsCorrect">Correct-->
          <!--</mat-checkbox>-->
        <!--</div>-->

        <!--<div>-->

          <!--<mat-form-field>-->
            <!--<input matInput placeholder="Answer" formControlName="q2A3Title">-->
          <!--</mat-form-field>-->
          <!--<mat-checkbox formControlName="q2A3IsCorrect">Correct-->
          <!--</mat-checkbox>-->
        <!--</div>-->

      <!--</div>-->

    </mat-card-content>
    <mat-divider></mat-divider>
    <mat-card-actions>

      <button mat-raised-button color="primary" type="submit">Save Quiz</button>
    </mat-card-actions>
  </mat-card>


</form>
